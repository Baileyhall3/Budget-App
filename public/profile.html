<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="styling.css">
    <link rel="icon" type="image/x-icon" href="images/money-bag.png">
    
    <script src="scripts/navbar-loader.js" defer></script>
    <script src="scripts/modals.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* Stack elements vertically */
            height: 100vh;
            margin: 0;
        }

        .profile-name {
            text-align: center; /* Center align the logo */
        }

        .profile-name h2 {
            font-weight: 100;
            /* font-family: 'Brush Script MT', cursive;  */
            font-size: 64px; /* Increase the font size for the logo */
            color: black;
        }

        .login h2 {
            margin-bottom: 30px; /* Margin below the REGISTER heading */
            font-size: 28px; /* Font size for the register heading */
        }

    </style>
</head>
<body>
    <div id="navbar-placeholder"></div>

    <div class="profile-name">
        <h2>Bailey Hall</h2>
    </div>
    <div class="login">
        <h2>My Profile</h2>
        <form id="profile-form" action="#" method="post">
            <input id="user-name" type="text" placeholder="Name">
            <input id="user-email" type="email" placeholder="Email">
            <div class="error" id="error-message"></div>
            <button type="submit">Save</button>
        </form>
    </div>

    <div class="friends">
        <div class="container-header">
            <h2>My Friends</h2>
            <h3><a class="link" onclick="openModal('findFriendsModal')" href="#" id="friendSearch">Find Friends</a></h3>
        </div>
        <div class="container-rounded">
            <div class="search input-row" style="width: 50%;">
                <i class="fa fa-search"></i>
                <input type="text" placeholder="Search friends...">
            </div>
            <div class="friends-list" id="friends-list">
            </div>
        </div>
    </div>

    <script>
        const friendsList = [
            { name: "Lottie", friendsSince: "10/10/2024"},
            { name: "Jayden", friendsSince: "09/10/2024"},
            { name: "Craig", friendsSince: "09/10/2024"},
            { name: "Liam", friendsSince: "09/10/2024"},
            { name: "James", friendsSince: "08/10/2024"},
        ]

        const friendsListContainer = document.getElementById('friends-list');

        // Function to display friends
        function displayFriends() {
            friendsList.forEach(friend => {
                // Create a wrapper div for each friend
                const friendDiv = document.createElement('div');
                friendDiv.classList.add('friend-row');

                // Create the icon for the user
                const icon = document.createElement('i');
                icon.classList.add('fa', 'fa-user', 'friend-icon');
                icon.style = 'display: flex;'

                // Create the friend name element
                const friendName = document.createElement('span');
                friendName.classList.add('friend-name');
                friendName.textContent = friend.name;

                // Create the dropdown menu for actions
                const dropdown = document.createElement('div');
                dropdown.classList.add('dropdown');

                const actionLink = document.createElement('a');
                actionLink.href = "#";
                actionLink.classList.add('link');
                actionLink.innerHTML = '<i class="fa fa-ellipsis-h"></i>';

                // Create dropdown content container
                const dropdownContent = document.createElement('div');
                dropdownContent.classList.add('dropdown-content');

                // Create the 'Nudge' option
                const nudgeLink = document.createElement('a');
                nudgeLink.href = "#";
                nudgeLink.textContent = 'Nudge';

                // Create the 'Remove Friend' option
                const removeLink = document.createElement('a');
                removeLink.href = "#";
                removeLink.textContent = 'Remove Friend';
                removeLink.classList.add('remove-friend');

                // Append links to dropdown content
                dropdownContent.appendChild(nudgeLink);
                dropdownContent.appendChild(removeLink);

                // Append actionLink and dropdownContent to dropdown
                dropdown.appendChild(actionLink);
                dropdown.appendChild(dropdownContent);

                // Append the icon, name, and dropdown to the friend row
                friendDiv.appendChild(icon);
                friendDiv.appendChild(friendName);
                friendDiv.appendChild(dropdown);

                // Append the margin line and friend row to the container
                friendsListContainer.appendChild(friendDiv);
            });
        }

        // Call the function to display friends on page load
        displayFriends();
    </script>
</body>
</html>
